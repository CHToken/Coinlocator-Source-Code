{"ast":null,"code":"import'./Treasury.css';import treasuryAdvertiseImg from'../../assets/img/treasuryAdvertise.png';import treasuryBudgetImg from'../../assets/img/treasuryBudget.png';import Promoted from'../../components/PromotedCoins/Promoted';import{useEffect,useState}from'react';import{ENVS}from'../../helpers/configurations';import{ethers}from'ethers';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const Treasury=()=>{const[bnbBalance,setBNBBalance]=useState(0);useEffect(()=>{const getBNBValueFunc=async()=>{var _res$data$data$BNB;const infuraProvider=new ethers.providers.Web3Provider(window.ethereum);const signer=infuraProvider.getSigner();const bnbBalance=await infuraProvider.getBalance(ENVS.TREASURY_ADDR);let qs=`?symbol=BNB&convert=USD`;let res=await axios.get('https://agile-cove-74302.herokuapp.com/https://pro-api.coinmarketcap.com/v1/cryptocurrency/quotes/latest'+qs,{headers:{'X-CMC_PRO_API_KEY':\"a8dd2502-9e7c-4bf6-8cd2-29d2829e042a\"}});let bnbPrice=(_res$data$data$BNB=res.data.data[\"BNB\"])===null||_res$data$data$BNB===void 0?void 0:_res$data$data$BNB.quote.USD.price;if(typeof bnbPrice!==undefined){let bnbValuable=ethers.utils.formatUnits(bnbBalance,18)*bnbPrice;setBNBBalance(\"$\"+bnbValuable.toFixed(1));}else{setBNBBalance(ethers.utils.formatUnits(bnbBalance,18)+\"BNB\");}};getBNBValueFunc();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"treasuryDiv\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"treasuryAdvertiseDiv\",children:/*#__PURE__*/_jsx(\"img\",{src:treasuryAdvertiseImg,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"treasuryContentsDiv\",children:\"Buy Back Treasury\"}),/*#__PURE__*/_jsx(Promoted,{title:\"Vote Tracker\",filter:\"weeklyCount\",caption:\"Weekly Ranking\"}),/*#__PURE__*/_jsx(\"div\",{className:\"treasuryContentsDiv\",children:\"Treasury Status\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"treasuryBudgetDiv\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"budgetWrapperDiv\",children:/*#__PURE__*/_jsx(\"img\",{src:treasuryBudgetImg,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"budgetAmountDiv\",children:bnbBalance})]})]});};export default Treasury;","map":{"version":3,"names":["treasuryAdvertiseImg","treasuryBudgetImg","Promoted","useEffect","useState","ENVS","ethers","axios","jsx","_jsx","jsxs","_jsxs","Treasury","bnbBalance","setBNBBalance","getBNBValueFunc","_res$data$data$BNB","infuraProvider","providers","Web3Provider","window","ethereum","signer","getSigner","getBalance","TREASURY_ADDR","qs","res","get","headers","bnbPrice","data","quote","USD","price","undefined","bnbValuable","utils","formatUnits","toFixed","className","children","src","alt","title","filter","caption"],"sources":["C:/Users/USER/Desktop/coinlocator/frontend/src/pages/Treasury/Treasury.js"],"sourcesContent":["import './Treasury.css';\r\n\r\nimport treasuryAdvertiseImg from '../../assets/img/treasuryAdvertise.png';\r\nimport treasuryBudgetImg from '../../assets/img/treasuryBudget.png';\r\n\r\nimport Promoted from '../../components/PromotedCoins/Promoted';\r\nimport { useEffect, useState } from 'react';\r\nimport { ENVS } from '../../helpers/configurations';\r\nimport { ethers } from 'ethers';\r\nimport axios from 'axios';\r\nexport const Treasury = () => {\r\n\r\n    const [bnbBalance, setBNBBalance] = useState(0);\r\n    \r\n    useEffect(()=>{\r\n        const getBNBValueFunc = async () => {\r\n            const infuraProvider = new ethers.providers.Web3Provider(window.ethereum);\r\n            const signer = infuraProvider.getSigner();\r\n            const bnbBalance = await infuraProvider.getBalance(ENVS.TREASURY_ADDR);\r\n            \r\n            let qs = `?symbol=BNB&convert=USD`;\r\n            let res = await axios.get('https://agile-cove-74302.herokuapp.com/https://pro-api.coinmarketcap.com/v1/cryptocurrency/quotes/latest' + qs, {\r\n                    headers: { 'X-CMC_PRO_API_KEY': \"a8dd2502-9e7c-4bf6-8cd2-29d2829e042a\" }})\r\n            \r\n            let bnbPrice = res.data.data[\"BNB\"]?.quote.USD.price;\r\n            if(typeof bnbPrice !== undefined){\r\n                let bnbValuable = ethers.utils.formatUnits(bnbBalance, 18) * bnbPrice;\r\n                setBNBBalance(\"$\" + bnbValuable.toFixed(1));\r\n            }else{\r\n                setBNBBalance(ethers.utils.formatUnits(bnbBalance, 18) + \"BNB\");\r\n            }\r\n        }\r\n        \r\n        getBNBValueFunc();\r\n\r\n    },[])\r\n\r\n    return(\r\n        <div className=\"treasuryDiv\">\r\n            <div className = \"treasuryAdvertiseDiv\">\r\n                <img src={treasuryAdvertiseImg} alt=\"\"></img>\r\n            </div>\r\n            <div className = \"treasuryContentsDiv\">Buy Back Treasury</div>\r\n            <Promoted title=\"Vote Tracker\" filter=\"weeklyCount\" caption=\"Weekly Ranking\"/>\r\n            <div className = \"treasuryContentsDiv\">Treasury Status</div>\r\n            <div className = \"treasuryBudgetDiv\">\r\n                <div className = \"budgetWrapperDiv\">\r\n                    <img src={treasuryBudgetImg} alt=\"\"></img>\r\n                </div>\r\n                <div className = \"budgetAmountDiv\">{bnbBalance}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Treasury;"],"mappings":"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"},"metadata":{},"sourceType":"module"}