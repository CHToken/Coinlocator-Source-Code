{"ast":null,"code":"import'./DetailMarket.css';import axios from'axios';import{useEffect,useState}from'react';import{ENVS}from'../../helpers/configurations';import{useGetLivePrice}from\"react-pancakeswap-token-price\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const DetailMarket=props=>{const data=props.data;const symbol=data.symbol;const[loading,setLoading]=useState(true);const[mcap,setMCAP]=useState(0);const[change24h,setChange]=useState(0);const[price,setPrice]=useState(0);const[c_supply,setSupply]=useState(0);useEffect(()=>{const contractAddr=data.contractAddr;const symbol=data.symbol;const fetchData=async()=>{// console.log(data, \"data\", data.symbol);\nif(data.presale===false){var _res$data$data$symbol,_res$data$data$symbol2,_res$data$data$symbol3,_res$data$data$symbol4;let qs=`?symbol=${symbol}&convert=USD`;let res=await axios.get('https://agile-cove-74302.herokuapp.com/https://pro-api.coinmarketcap.com/v1/cryptocurrency/quotes/latest'+qs,{headers:{'X-CMC_PRO_API_KEY':\"a8dd2502-9e7c-4bf6-8cd2-29d2829e042a\"}});let t_price,t_mcap,t_change24h,t_cir_supply;t_price=(_res$data$data$symbol=res.data.data[symbol])===null||_res$data$data$symbol===void 0?void 0:_res$data$data$symbol.quote.USD.price;t_mcap=(_res$data$data$symbol2=res.data.data[symbol])===null||_res$data$data$symbol2===void 0?void 0:_res$data$data$symbol2.quote.USD.market_cap;t_change24h=(_res$data$data$symbol3=res.data.data[symbol])===null||_res$data$data$symbol3===void 0?void 0:_res$data$data$symbol3.quote.USD.percent_change_24h;t_cir_supply=(_res$data$data$symbol4=res.data.data[symbol])===null||_res$data$data$symbol4===void 0?void 0:_res$data$data$symbol4.circulating_supply;setMCAP(typeof t_mcap!==undefined?t_mcap:0);setPrice(typeof t_price!==undefined?t_price:0);setChange(typeof t_change24h!==undefined?t_change24h:0);setSupply(typeof t_cir_supply!==undefined?t_cir_supply:0);setLoading(false);}};fetchData();},[symbol,data]);console.log(\"=====\");// useEffect(()=>{\nuseGetLivePrice().getPrice(\"0xAe9269f27437f0fcBC232d39Ec814844a51d6b8f\").then(res=>{console.log(\"------\",res);}).catch(err=>{console.log(err);});// }, [])\nconst floorValue=value=>{if(value>1000000000){return Math.floor(value/1000000000*100)/100+\" B\";}else if(value>1000000){return Math.floor(value/1000000*100)/100+\" M\";}else if(value>1000){return Math.floor(value/1000*100)/100+\" K\";}else{return Math.floor(value*100)/100;}};// useEffect(()=>{\n//     getPrice('0xAe9269f27437f0fcBC232d39Ec814844a51d6b8f')\n//     .then((res)=> console.log(\"token price\", res))\n//   }, [])\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"detailMarketDiv\",children:loading===false?/*#__PURE__*/_jsxs(\"div\",{className:\"detailMarketWrappedDiv\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"detailMarketTitleDiv\",children:\"Coin Market Data\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"detailMarketContentDiv\",children:[\"Price(USD)\\u2003\\u2003\\u2003\\u2003\\u2003\\u2003\\u2003\",price===0?\"\":floorValue(price)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detailMarketContentDiv\",children:[\"Price Change(24 hrs)\\u2003\\xA0\\xA0\\xA0\",change24h===0?\"\":floorValue(change24h)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detailMarketContentDiv\",children:[\"Market Cap\\u2003\\u2003\\u2003\\u2003\\u2003\\u2003\",mcap===0?\"\":floorValue(mcap)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detailMarketContentDiv\",children:[\"Circulating Supply\\u2003\\u2003\\u2003\",c_supply===0?\"\":floorValue(c_supply)]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"detailMarketWrappedDiv\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"detailMarketTitleDiv\",children:\"Coin Market Data\"}),/*#__PURE__*/_jsx(\"div\",{className:\"detailMarketContentDiv\",children:\"Price(USD)\\u2003\"}),/*#__PURE__*/_jsx(\"div\",{className:\"detailMarketContentDiv\",children:\"Price Change(24 hrs)\\u2003\"}),/*#__PURE__*/_jsx(\"div\",{className:\"detailMarketContentDiv\",children:\"Market Cap\\u2003\"}),/*#__PURE__*/_jsx(\"div\",{className:\"detailMarketContentDiv\",children:\"Circulating Supply\"})]})});};export default DetailMarket;","map":{"version":3,"names":["axios","useEffect","useState","ENVS","useGetLivePrice","jsx","_jsx","jsxs","_jsxs","DetailMarket","props","data","symbol","loading","setLoading","mcap","setMCAP","change24h","setChange","price","setPrice","c_supply","setSupply","contractAddr","fetchData","presale","_res$data$data$symbol","_res$data$data$symbol2","_res$data$data$symbol3","_res$data$data$symbol4","qs","res","get","headers","t_price","t_mcap","t_change24h","t_cir_supply","quote","USD","market_cap","percent_change_24h","circulating_supply","undefined","console","log","getPrice","then","catch","err","floorValue","value","Math","floor","className","children"],"sources":["C:/Users/USER/Desktop/coinlocator/frontend/src/components/DetailMarket/DetailMarket.js"],"sourcesContent":["import './DetailMarket.css';\r\nimport axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\nimport { ENVS } from '../../helpers/configurations';\r\nimport { useGetLivePrice } from \"react-pancakeswap-token-price\";\r\n\r\nexport const DetailMarket = (props) => {\r\n  \r\n    const data = props.data;\r\n    const symbol = data.symbol;\r\n\r\n    const [loading, setLoading] = useState(true);\r\n    const [mcap, setMCAP] = useState(0);\r\n    const [change24h, setChange] = useState(0);\r\n    const [price, setPrice] = useState(0);\r\n    const [c_supply, setSupply] = useState(0);\r\n\r\n    useEffect(() => {\r\n\r\n        const contractAddr = data.contractAddr; \r\n        const symbol  = data.symbol;\r\n\r\n        const fetchData = async () => {\r\n            // console.log(data, \"data\", data.symbol);\r\n           \r\n            if(data.presale === false){\r\n        \r\n                let qs = `?symbol=${symbol}&convert=USD`;\r\n                let res = await axios.get('https://agile-cove-74302.herokuapp.com/https://pro-api.coinmarketcap.com/v1/cryptocurrency/quotes/latest' + qs, {\r\n                        headers: { 'X-CMC_PRO_API_KEY': \"a8dd2502-9e7c-4bf6-8cd2-29d2829e042a\" }})\r\n                \r\n                let t_price, t_mcap, t_change24h,t_cir_supply;\r\n                t_price = res.data.data[symbol]?.quote.USD.price;\r\n                t_mcap = res.data.data[symbol]?.quote.USD.market_cap;\r\n                t_change24h = res.data.data[symbol]?.quote.USD.percent_change_24h;\r\n                t_cir_supply = res.data.data[symbol]?.circulating_supply;\r\n                \r\n                setMCAP(typeof t_mcap !== undefined ? t_mcap: 0);\r\n                setPrice(typeof t_price !== undefined ? t_price: 0);\r\n                setChange(typeof t_change24h !== undefined ? t_change24h: 0);\r\n                setSupply(typeof t_cir_supply !== undefined ? t_cir_supply: 0);\r\n                \r\n                setLoading(false);\r\n            }   \r\n        }\r\n        fetchData();\r\n\r\n    }, [symbol, data])\r\n    console.log(\"=====\", );\r\n    // useEffect(()=>{\r\n        useGetLivePrice()\r\n            .getPrice(\"0xAe9269f27437f0fcBC232d39Ec814844a51d6b8f\")\r\n            .then((res) => {\r\n                console.log(\"------\",res)\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            })\r\n    // }, [])\r\n\r\n\r\n    const floorValue = (value) => {\r\n        if(value > 1000000000){\r\n            return (Math.floor(value/1000000000*100)/100) + \" B\";\r\n        }\r\n        else if(value > 1000000) {\r\n            return (Math.floor(value/1000000*100)/100) + \" M\";\r\n        }else if(value > 1000){\r\n            return (Math.floor(value/1000*100)/100) + \" K\";\r\n        }else{\r\n            return Math.floor(value*100)/100;\r\n        }\r\n    }\r\n\r\n    // useEffect(()=>{\r\n    //     getPrice('0xAe9269f27437f0fcBC232d39Ec814844a51d6b8f')\r\n    //     .then((res)=> console.log(\"token price\", res))\r\n    //   }, [])\r\n    \r\n    return (\r\n        <div className=\"detailMarketDiv\">\r\n            {loading === false ? ( \r\n                <div className=\"detailMarketWrappedDiv\">\r\n                    <div className=\"detailMarketTitleDiv\">\r\n                        Coin Market Data\r\n                    </div>\r\n                    <div className=\"detailMarketContentDiv\">\r\n                        Price(USD)&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;{price === 0 ? \"\": floorValue(price)}\r\n                    </div>\r\n                    <div className=\"detailMarketContentDiv\">\r\n                        Price Change(24 hrs)&emsp;&nbsp;&nbsp;&nbsp;{change24h === 0 ? \"\": floorValue(change24h)}\r\n                    </div>\r\n                    <div className=\"detailMarketContentDiv\">\r\n                        Market Cap&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;{mcap === 0 ? \"\": floorValue(mcap)}\r\n                    </div>\r\n                    <div className=\"detailMarketContentDiv\">\r\n                        Circulating Supply&emsp;&emsp;&emsp;{c_supply === 0 ? \"\": floorValue(c_supply)}\r\n                    </div>\r\n                  </div>\r\n                ):(<div className=\"detailMarketWrappedDiv\">\r\n                <div className=\"detailMarketTitleDiv\">\r\n                    Coin Market Data\r\n                </div>\r\n                <div className=\"detailMarketContentDiv\">\r\n                    Price(USD)&emsp;\r\n                </div>\r\n                <div className=\"detailMarketContentDiv\">\r\n                    Price Change(24 hrs)&emsp;\r\n                </div>\r\n                <div className=\"detailMarketContentDiv\">\r\n                    Market Cap&emsp;\r\n                </div>\r\n                <div className=\"detailMarketContentDiv\">\r\n                    Circulating Supply\r\n                </div>\r\n               \r\n              </div>)}\r\n           \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DetailMarket;"],"mappings":"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"},"metadata":{},"sourceType":"module"}